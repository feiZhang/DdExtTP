<notempty name="Think.get.haveHeader">
    <include file="Public:header" />
    <eq name="modelInfo.enablePrint" value="1">
    <script language="javascript" src="__DXPUBLIC__/public/Lodop6.010/LodopFuncs.js"></script>
    <object id="LODOP_OB" classid="clsid:2105C259-1E0C-4534-8141-A753534CB4CA" width=0 height=0 style="display:none"> 
        <embed id="LODOP_EM" type="application/x-print-lodop" width=0 height=0 pluginspage="install_lodop32.exe"></embed>
    </object> 
    </eq>

    <link href="__DXPUBLIC__/min/g=dataListCss" rel="stylesheet" type="text/css" />
    <script src="__DXPUBLIC__/public/DatePicker/WdatePicker.js" type="text/javascript"></script>
    <script src="__DXPUBLIC__/public/sigma_grid/gt_grid_all.js" type="text/javascript"></script>

    <eq name="Think.config.APP_DEBUG" value="true">
    <script src="__DXPUBLIC__/public/sigma_grid/src/gt_base.js" type="text/javascript"></script>
    <script src="__DXPUBLIC__/public/sigma_grid/src/gt_grid.js" type="text/javascript"></script>
    <script src="__DXPUBLIC__/public/sigma_grid/src/gt_column.js" type="text/javascript"></script>
    <script src="__DXPUBLIC__/public/sigma_grid/src/gt_tool.js" type="text/javascript"></script>
    </eq>

    <!--数据修改和新增的js 因为ajax加载js会出现异常，所以在这里进行加载-->
    <script type="text/javascript" src="__DXPUBLIC__/public/jquery-upload-file/blueimp/js/load-image.min.js"></script>
    <script type="text/javascript" src="__DXPUBLIC__/public/jquery-upload-file/blueimp/js/tmpl.min.js"></script>

    <eq name="Think.config.APP_DEBUG" value="true">
    <script type="text/javascript" src="__DXPUBLIC__/min/g=dataListJs&debug=1"></script>
    <script type="text/javascript" src="__DXPUBLIC__/min/g=dataEditJs&debug=1"></script>
    <else/>
    <script type="text/javascript" src="__DXPUBLIC__/min/g=dataListJs"></script>
    <script type="text/javascript" src="__DXPUBLIC__/min/g=dataEditJs"></script>
    </eq>
    <script type="text/javascript" src="__PUBLIC__/js/dataope_ext.js"></script>
</notempty>
<notempty name="Think.get.haveHeaderMenu">
    <include file="Public:menu" />
</notempty>

<link rel="stylesheet" href="__DXPUBLIC__/public/jquery-upload-file/blueimp/css/bootstrap-image-gallery.min.css">

<style>
/*文件上传的样式*/
.progress, .table {
        margin-bottom: 0;
}
.table th, .table td {
        padding: 2px;
}
</style>
<script>
<!--
var recordDataInfo = {\\$recordDataInfo};
<php>
printf("var recordDataFields = %s;\\n",str_replace("{","{ ",json_encode($listFields)));
</php>
-->
</script>

<include file="Public:upload_file_tmpl" />

<form id="itemAddForm" ng-controller="dataEditCtrl" class="form-inline">
<block name="dataEditFormTable">
    <table class="table table-bordered">
        <?php
        $display_none_field = "";
        if(empty($modelInfo["addPageColumnNum"])) $modelInfo["addPageColumnNum"] = 1;
        $fieldSize = sizeof($listFields);$fieldIndex = 0;
        reset($listFields);
        $field = current($listFields);
        while($field!==false){
            $fieldInput="";
            printf("<tr class=\"itemAddTr\">\\n");
            for($i=$modelInfo["addPageColumnNum"];$i>0;--$i){
                if($fieldIndex<$fieldSize){
                    if($field["display_none"]){
                        $display_none_field .= DxFunction::createFieldInput($field);
                        ++$i;
                    }else{
                        printf("<td class='text-right'>%s:</td>\\n",$field["title"]);
                        printf("<td>%s</td>\\n",DxFunction::createFieldInput($field));
                    }
                    $field = next($listFields);
                }else{
                    $field = false;
                    printf("<td class='text-right'></td>\\n");
                    printf("<td></td>\\n");
                }
                ++$fieldIndex;
            }
            echo "</tr>\\n";
        }
        ?>
    </table>
    <div style="display:none">
        <?php echo $display_none_field;?>
    </div>
</block>
<div style="display:none">
    <input id="modelName" name="modelName" value='{$modelName}' type='hidden' />
    <literal>
    <notempty name="pkId">
    <input id="pkId" ng-model="pkId" name="pkId" value='{$pkId}' type='hidden' />
    </notempty>
    </literal>
</div>
</form>

<notempty name="Think.get.haveHeader">
    <include file="Public:footer" />
</notempty>

